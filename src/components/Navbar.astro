---
// Sticky navbar with scroll background change
---

<nav x-data="{
  scrolled: false,
  lang: localStorage.getItem('lang') || 'es',
  dark: (localStorage.getItem('darkMode') === null) ? true : (localStorage.getItem('darkMode') === 'true'),
  setLang(l) { this.lang = l; localStorage.setItem('lang', l); window.dispatchEvent(new CustomEvent('lang', { detail: l })); },
  toggleDark() { this.dark = !this.dark; localStorage.setItem('darkMode', this.dark); document.documentElement.classList.toggle('dark', this.dark); }
}"
  x-init="window.addEventListener('scroll',()=>{scrolled=window.scrollY>20}); document.documentElement.classList.toggle('dark', dark); window.dispatchEvent(new CustomEvent('lang', { detail: lang }));"
  :class="scrolled ? 'bg-white/90 dark:bg-neutral-900/90 shadow' : 'bg-transparent'"
  class="fixed top-0 left-0 w-full z-30 transition-all backdrop-blur border-b border-transparent">
  <div class="max-w-4xl mx-auto flex items-center justify-between px-4 py-3">
    <a href="/fun-phone-privacy-policy/" class="flex items-center gap-2 font-bold text-accent text-lg select-none">
      <img src="/fun-phone-privacy-policy/assets/logo.svg" alt="Fun Phone" class="w-8 h-8 min-w-8 min-h-8 max-w-8 max-h-8" style="image-rendering:auto;" draggable="false" />
      <span class="tracking-tight">Fun Phone</span>
    </a>
    <div class="flex items-center gap-4">
      <a href="/fun-phone-privacy-policy/features/" class="hover:underline font-semibold" x-text="lang==='es' ? 'Funciones' : 'Features'"></a>
      <a href="/fun-phone-privacy-policy/faq/" class="hover:underline font-semibold">FAQ</a>
      <a href="/fun-phone-privacy-policy/privacy/" class="hover:underline font-semibold" x-text="lang==='es' ? 'Privacidad' : 'Privacy'"></a>
      <a href="https://play.google.com/store/apps/details?id=com.bookverse.contacts" target="_blank" rel="noopener" class="bg-accent text-white px-3 py-1 rounded-lg font-semibold shadow hover:bg-blue-700 transition" x-text="lang==='es' ? 'Descargar' : 'Download'"></a>
      <!-- Switch idioma -->
      <button @click="setLang(lang==='es' ? 'en' : 'es')" :aria-label="lang==='es' ? 'Cambiar a inglÃ©s' : 'Switch to Spanish'" class="ml-2 px-2 py-1 rounded focus:outline-accent border border-accent text-accent bg-white dark:bg-neutral-900 hover:bg-accent hover:text-white transition">
        <span x-show="lang==='es'">EN</span><span x-show="lang==='en'">ES</span>
      </button>
      <!-- Switch modo oscuro -->
      <button @click="toggleDark()" :aria-label="dark ? (lang==='es' ? 'Cambiar a modo claro' : 'Switch to light mode') : (lang==='es' ? 'Cambiar a modo oscuro' : 'Switch to dark mode')" class="ml-2 px-2 py-1 rounded focus:outline-accent border border-accent text-accent bg-white dark:bg-neutral-900 hover:bg-accent hover:text-white transition">
        <svg x-show="!dark" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="5" stroke-width="2"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 1v2m0 18v2m11-11h-2M3 12H1m16.95 6.95l-1.414-1.414M6.464 6.464L5.05 5.05m12.02 0l-1.414 1.414M6.464 17.536l-1.414 1.414"/></svg>
        <svg x-show="dark" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"/></svg>
      </button>
    </div>
  </div>
</nav>
